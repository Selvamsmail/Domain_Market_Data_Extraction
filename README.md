# Domain Market Data Extraction

> GitHub: [Domain\_Market\_Data\_Extraction](https://github.com/Selvamsmail/Domain_Market_Data_Extraction)

## Overview

This project extracts, cleans, and consolidates real estate market data (primarily from Domain.com.au) and loads it into a SQL database. The system is maintained by simply running a set of Python scripts, and even though this was built some time ago, it continues to function and provide updated data through scheduled runs.

### Data Captured

- Property listings per suburb (median price, rental yields, clearance rate, population etc.)
- Historical price and sales trends (2019–2023)
- Suburb demographics (owner vs renter, family vs single, average age)
- Domain click data (scraped)
- Geographic coordinates

## File Structure

```
Domain_Market_Data_Extraction/
├── 1_domain_click.py              # Step 1: data extractor 
├── 2_domain_click.py              # Step 2: data extractor 
├── 3_domain_click.py              # Step 3: data extractor 
├── counter.py                     # Handles internal page count
├── reset.py                       # Resets progress and removes intermediate files
├── runscripts.py                  # Runs the three extractors in sequence
├── Domain_Mergefile.ipynb         # Final merger and data cleaner + DB uploader
├── fix_cities.ipynb               # Cleanup step for suburb names
├── Latitude_and_Longitude_Extract_20230802.xlsx  # Lookup for lat/lon
├── suburbs.xlsx                   # Lookup for suburb metadata
├── CLICKOUTPUT*.csv              # Intermediate files generated by extractors
├── Domain_Extract_<date>.xlsx     # Final consolidated output file
```

## Setup Instructions

1. **Install Dependencies**

```bash
pip install requirements.txt
```

2. **Initial Reset** Run the reset script to delete any old CSVs and reset counters:

```bash
python reset.py
```

3. **Run Extractors** These are run in sequence using:

```bash
python runscripts.py
```

This will run `1_domain_click.py`, `2_domain_click.py`, and `3_domain_click.py`. Each script appends data to `CLICKOUTPUT1.csv`, `CLICKOUTPUT2.csv`, and `CLICKOUTPUT3.csv` respectively.

If interrupted, the scripts will resume based on progress stored in the `raw_click_dump_*.txt` files.

4. **Merge and Clean Output** Open `Domain_Mergefile.ipynb` and run all cells. This does the following:

- Reads the individual click CSVs
- Merges data with suburb demographics
- Normalizes and cleans fields
- Calculates new metrics (rental yield etc.)
- Exports to a new `Domain_Extract_<date>.xlsx`
- Pushes data to the MySQL database (after truncating the previous records)

> ⚠️ Ensure the DB credentials are correctly placed in the `merge` notebook. They are not hardcoded into the repo for security.

5. **Check Output** You should see a new Excel file with that day's data. The database will have only the latest records (truncate + insert pattern).

---

## Notes

- Scripts do not require command-line input.
- Intermediate tracking files are used for fault tolerance.
- Config files or schema files are not needed; the schema already exists in the DB.
